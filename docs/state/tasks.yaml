version: 2
tasks:
  - id: "A1-setup-protocol"
    label: "Setup & Bootstrap BRAIN Protocol"
    status: "completed"
    needs: []
    # Contents trimmed for brevity

  - id: "B1-implement-verifier-checks"
    label: "Implement Core Verifier Checks"
    goal: "Upgrade the verifier to perform its two most basic checks: 'file_exists' and 'text_check'. This is the first step in making the Gatekeeper trustworthy."
    status: "pending"
    needs:
      - "A1-setup-protocol"
    contextFiles:
      - "docs/scripts/src/verifier.rs"
      - "docs/scripts/src/model.rs"
    acceptanceCriteria:
      - description: "The verifier's main loop must contain a 'match' statement on the acceptance criterion's check_type."
        type: "text_check"
        file: "docs/scripts/src/verifier.rs"
        assertion: "contains_string"
        value: "match ac.check_type.as_str()"
      - description: "The 'file_exists' match arm correctly checks if a file exists on disk."
        type: "text_check"
        file: "docs/scripts/src/verifier.rs"
        assertion: "contains_string"
        value: "Path::new(&ac.file).exists()"
      - description: "The 'text_check' match arm reads a file's content to a string."
        type: "text_check"
        file: "docs/scripts/src/verifier.rs"
        assertion: "contains_string"
        value: "fs::read_to_string"
      - description: "The 'text_check' match arm correctly checks if the file content contains the required value."
        type: "text_check"
        file: "docs/scripts/src/verifier.rs"
        assertion: "contains_string"
        value: "content.contains"